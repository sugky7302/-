# EffectSystem
- 需求:
    - 易擴展=接口+配置+需求表，各模組獨立設定
    - 經過特殊的適配器，buff、debuff、shield、dot、damage等所有遊戲創生體、動作體、法術場、子彈場都能夠使用
    - 簡單維護
    - 可使用裝飾者模式修改出新的效果
    - 低耦合
    - 各模組都可做單元測試
    - 高度結構化，希望整個先用pseudocode編寫出來
    - 可獨立維護的類型定義表、特殊規則表(比如只能對誰施放之類)    
- 單一職責: 處理技能需要的效果

## EffectTable
- 需求:
    - 純文字。
    - 容易維護。
- 單一職責: 純文字的效果文本。
- 成員:(!表示任務可調整的選項)
    - name: 名稱
    - !value: 數值
    - level: 等級
    - !period: 觸發週期事件的頻率，單位為秒
    - !source: 施法者
    - !target: 目標
    - !time: 持續時間
    - priority: 優先級
    - !remained_time: 剩餘時間
    - !valid: 是否有效
    - mode: 布林值。0表示獨佔模式，1表示共存模式
    - model: 視覺特效
    - model_point: 視覺特效點
    - global: 布林值。0表示name相同即視為同名狀態，1表示name和source都相同才視為同名狀態
    - max: 共存模式下，同名狀態生效的最大數量
    - keep_after_death: 死亡後是否保持
    - on_add: 添加時觸發的事件
    - on_remove: 刪除時觸發的事件
    - on_finish: 結束時觸發的事件
    - on_cover: 覆蓋時觸發的事件
    - on_pulse: 週期觸發事件

## Effect
- 需求:
    - 實現EffectTable，將文本轉成對象
    - 提供實作方法
    - 可操作EffectManager儲存的模板
    - 外部無法生成，只能由EffectManager生成。
    - 外部給予的只是計畫任務。
- 單一職責: 實現EffectTable。
- 接口:
    - start:
        - 輸入: X
        - 輸出: X
        - 說明: 本程序會啟動計時器並執行效果。
        - 隱藏細節: X
    - finish:
        - 輸入: X
        - 輸出: X
        - 說明: 本程序為效果完成後調用的函數。
        - 隱藏細節: X
    - delete:
        - 輸入: X
        - 輸出: X
        - 說明: 本程序為效果刪除後調用的函數。
        - 隱藏細節: X
    - pause:
        - 輸入: X
        - 輸出: X
        - 說明: 本程序為效果暫停時調用的函數。
        - 隱藏細節: X
    - resume:
        - 輸入: X
        - 輸出: X
        - 說明: 本程序為效果恢復時調用的函數。
        - 隱藏細節: X

## EffectManager
- 需求:
    - 讀取模板
    - 生成Effect
    - 統一管理Effect
- 單一職責: Effect的外部接口。
- 成員:
    - templates: 儲存模板
    - list: 儲存effect列表
- 接口:
    - __init__:
        - 輸入: X
        - 輸出: X
        - 說明: 本程序會讀取模板並存入templates。
        - 隱藏細節: X

    - __ctr__:
        - 輸入: X
        - 輸出: EffectManager實例
        - 說明: 本程序會創建一個EffectManager實例，並回傳實例。
        - 隱藏細節: 創建list。
    - getTemplate:
        - 輸入: 模板名稱
        - 輸出: 模板
        - 說明: 本程序會從模板庫中調用所需的模板並回傳。
        - 隱藏細節: 如果找不到模板會回傳空模板。
    - add:
        - 輸入: 設定
        - 輸出: X
        - 說明: 本程序會根據設定添加對應的效果到列表。
        - 隱藏細節: 會搜尋模板並生成效果。
    - find:
        - 輸入: 名字
        - 輸出: 陣列
        - 說明: 本程序會根據名字到列表搜尋效果並回傳陣列。
        - 隱藏細節: X
    - delete:
        - 輸入: 名字
        - 輸出: X
        - 說明: 本程序會根據名字將列表中該名字的效果陣列清除。
        - 隱藏細節: X
